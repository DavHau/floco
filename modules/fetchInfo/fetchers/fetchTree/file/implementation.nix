# ============================================================================ #
#
# Arguments used to fetch a source tree or file.
#
# ---------------------------------------------------------------------------- #

{ lib, config, ... }: {

  config.file = lib.mkIf ( ! config.pure ) ( { config, ... }: {
    config.narHash = lib.mkDefault ( builtins.fetchTree {
      type = "file";
      inherit (config) url;
    } ).narHash;
  } );

}


# ---------------------------------------------------------------------------- #
#
#
#
# ============================================================================ #
